--- 
title: Как установить CentOS из CentOS по SSH
layout: post
syntax-highlighting: yes
excerpt: Как установить CentOS из CentOS по SSH.
tags:
- centos
---
Как установить CentOS из CentOS по SSH.
Это нам нужно если мы хотим поменять архитектуру i386 на AMD64 или поставить более новую версии поверх старой.

**Дано:**
  1.Настроенный сервер с kickstart
  2.Сервер с CentOS любой версии который будем переустанавливать
  3.Прямые руки.

**1. Скачиваем initrd и vmlinuz нужной версии**
  wget -O /boot/initrd_remote.img http://mirror.yandex.ru/centos/6.0/os/x86_64/isolinux/initrd.img
  wget -O /boot/vmlinuz_remote http://mirror.yandex.ru/centos/6.0/os/x86_64/isolinux/vmlinuz

**2. Правим /boot/grub/grub.conf**
**ИЗМЕНИТЬ ВСЕ НУЖНЫЕ ЗНАЧЕНИЯ НА ПРАВИЛЬНЫЕ!
1.ks файл
2.IP\GATE\NETMASK!**

  title CentOS Remote Install
  root (hd0,0)
  kernel /vmlinuz_remote lang=en_US keymap=us method=http://ks.relax.ru/ ks=http://ks.relax.ru/ks.cfg ip=80.68.244.59 netmask=255.255.255.224 gateway=80.68.244.33 dns=8.8.8.8 noselinux headless 
  initrd /initrd_remote.img
  
**3.Правим порядок загрузки из консоли**

  Предполагается, что наша конфигурация идет  вторым пунктом меню. 
  Мы указали grub попробовать загрузить ее один раз. 
  Если что-то пойдет не так, вернемся к ранее установленному дистрибутиву после перезагрузки, через 120 секунд.
  [root@localhost ~]# echo 'savedefault --default=1 --once' | grub --batch

